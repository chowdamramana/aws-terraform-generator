<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}AWS Terraform Generator{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="{{ url_for('static', path='/css/prism.css') }}" rel="stylesheet">
    <script src="{{ url_for('static', path='/js/htmx.min.js') }}"></script>
    <script src="{{ url_for('static', path='/js/prism.js') }}"></script>
    <script src="{{ url_for('static', path='/js/scripts.js') }}"></script>
    <link rel="stylesheet" href="{{ url_for('static', path='/css/styles.css') }}">
</head>
<body class="bg-gray-50 dark:bg-gray-900 transition-colors">
    <nav class="bg-blue-700 dark:bg-blue-800 p-4 shadow">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex items-center">
                <img src="{{ url_for('static', path='/images/logo.png') }}" alt="Logo" class="h-10">
                <span class="text-white text-xl font-semibold ml-2">AWS Terraform Generator</span>
            </div>
            <ul class="flex space-x-6 text-white">
                <li><a href="/" class="hover:underline">Home</a></li>
                <li><a href="/config" class="hover:underline">Configuration</a></li>
                <li><a href="/preview" class="hover:underline">Preview</a></li>
                <li><a href="/modules" class="hover:underline">Modules</a></li>
                <li><a href="/deploy" class="hover:underline">Deploy</a></li>
                <li><a href="/help" class="hover:underline">Help</a></li>
                {% if user %}
                <li><a href="/dashboard" class="hover:underline">Dashboard</a></li>
                <li><a href="/auth/logout" class="hover:underline">Logout</a></li>
                {% else %}
                <li><a href="/auth/login" class="hover:underline">Login</a></li>
                <li><a href="/auth/register" class="hover:underline">Register</a></li>
                {% endif %}
                <li>
                    <button onclick="toggleDarkMode()" class="focus:outline-none">
                        <svg class="h-6 w-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                        </svg>
                    </button>
                </li>
            </ul>
        </div>
    </nav>
    <div class="container mx-auto p-6">
        {% block content %}
        {% endblock %}
    </div>
    <script>
        function toggleDarkMode() {
            document.body.classList.toggle('dark');
            localStorage.setItem('darkMode', document.body.classList.contains('dark'));
        }
        if (localStorage.getItem('darkMode') === 'true') {
            document.body.classList.add('dark');
        }
    </script>
</body>
</html>